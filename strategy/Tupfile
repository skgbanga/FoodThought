include_rules

# build and run tests
# please remember to name all the test files as *.t.cc since tup doesn't have a good way
# of excluding files. So the convention followed is *.cpp for actual code,
# *.t.cc for test files
: foreach *.t.cc |> !cc |> {tests}

LIBRARIES += ../tests/libgtests

: {tests} $(LIBRARIES) |> clang++ %f -lglog -lpthread -o %o |> tests
: ./tests |> ./tests |>
